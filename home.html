<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      rel="stylesheet"
      href="node_modules/bootstrap/dist/css/bootstrap.css"
    />
   <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
  />
    <link rel="stylesheet" href="home.css" />
  </head>
  <body>
    <div id="loading-overlay">
  <div class="loader-container">
    <canvas id="pizza"></canvas>
  </div>
</div>
    <header id="header">
      <a href="#" class="logo">MealFinder</a>
      <ul>
        <li><a href="#">Home</a></li>
        <li><a href="#">Recipes</a></li>
        <li><a href="#">Random</a></li>
        <li><a href="#">Filter</a></li>
      </ul>
    </header>
        <div class="container-fluid text-center  searchbar">
      <label class="search" for="inpt_search">
        <input id="inpt_search" type="text" />
      </label>
      <p>Search for meal</p>
    </div>
    <section class="container-fluid">
      <h2 id="text">
        <span>Craving for home-like food? But don't know how to cook?</span
        ><br />
        We got you
      </h2>

      <img src="Pngs/spices-png-43492.png" alt="" class="img-2" />
    </section>



    <div class="container-fluid section_2 scrolling-text bubble-background mb-3">
      <div class="text_2" id="text_2">
        <h2>Try these Lip smacking recipes</h2>
  
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
 
      </div>
    </div>

    <!--Card slider-->
    <div class="container-fluid d-flex  ">
      <!-- card slider for vegetarian -->
      <div class="container mt-5 box ">
        <span class="carousel_heading carousel_heading_1">Vegetarian</span>
        <div
          id="card-carousel-1"
          class="carousel slide"
          data-bs-ride="carousel"
        >
          <div class="carousel-inner">
            <!-- Add more cards here -->
          </div>
          <button
            class="carousel-control-prev"
            type="button"
            data-bs-target="#card-carousel-1"
            data-bs-slide="prev"
          >
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button
            class="carousel-control-next"
            type="button"
            data-bs-target="#card-carousel-1"
            data-bs-slide="next"
          >
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>
      </div>

      <!-- card slider for non-vegetarian -->

      <div class="container mt-5 box">
        <span class="carousel_heading">Non-vegetarian</span>
        <div
          id="card-carousel-2"
          class="carousel slide"
          data-bs-ride="carousel"
        >
          <div class="carousel-inner">
            <!-- Add more cards here -->
          </div>
          <button
            class="carousel-control-prev"
            type="button"
            data-bs-target="#card-carousel-2"
            data-bs-slide="prev"
          >
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button
            class="carousel-control-next"
            type="button"
            data-bs-target="#card-carousel-2"
            data-bs-slide="next"
          >
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>
      </div>
      <!-- card slider for desserts -->

      <div class="container mt-5 box">
        <span class="carousel_heading">Desserts</span>
        <div
          id="card-carousel-3"
          class="carousel slide"
          data-bs-ride="carousel"
        >
          <div class="carousel-inner">
            <!-- Add more cards here -->
          </div>
          <button
            class="carousel-control-prev"
            type="button"
            data-bs-target="#card-carousel-3"
            data-bs-slide="prev"
          >
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button
            class="carousel-control-next"
            type="button"
            data-bs-target="#card-carousel-3"
            data-bs-slide="next"
          >
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>
      </div>
    </div>

    <!-- try -->
    <script>
      fetch(
        "https://www.themealdb.com/api/json/v1/1/filter.php?c=Vegetarian"
      ).then((data) => {
        console.log(data);
      });
      //JS hero section
      let text = document.getElementById("text");

      window.addEventListener("scroll", function () {
        let value = window.scrollY;

        text.style.top = 40 + value * -0.85 + "%";
      });
      //carousel
      // Fetch the API data for Vegetarian meals
      fetch("https://www.themealdb.com/api/json/v1/1/filter.php?c=Vegetarian")
        .then((response) => response.json()) // Parse the response as JSON
        .then((data) => {
          const carouselInner = document.querySelector(
            "#card-carousel-1 .carousel-inner"
          );

          // Clear any existing content
          carouselInner.innerHTML = "";

          // Loop through the meals and create carousel cards
          data.meals.forEach((meal, index) => {
            const carouselItemClass =
              index === 0 ? "carousel-item active" : "carousel-item";
            const cardHtml = `
          <div class="${carouselItemClass}">
            <div class="card">
              <img src="${meal.strMealThumb}" class="card-img-top" alt="${meal.strMeal}" />
              <div class="card-body">
                <h5 class="card-title">${meal.strMeal}</h5>
                <p class="card-text">Meal ID: ${meal.idMeal}</p>
              </div>
            </div>
          </div>
        `;
            carouselInner.innerHTML += cardHtml;
          });
        })
        .catch((error) => {
          console.error("Error fetching API data:", error);
        });

      // Fetch the API data for Vegetarian meals
      fetch("https://www.themealdb.com/api/json/v1/1/filter.php?c=Chicken")
        .then((response) => response.json()) // Parse the response as JSON
        .then((data) => {
          const carouselInner = document.querySelector(
            "#card-carousel-2 .carousel-inner"
          );

          // Clear any existing content
          carouselInner.innerHTML = "";

          // Loop through the meals and create carousel cards
          data.meals.forEach((meal, index) => {
            const carouselItemClass =
              index === 0 ? "carousel-item active" : "carousel-item";
            const cardHtml = `
          <div class="${carouselItemClass}">
            <div class="card">
              <img src="${meal.strMealThumb}" class="card-img-top" alt="${meal.strMeal}" />
              <div class="card-body">
                <h5 class="card-title">${meal.strMeal}</h5>
                <p class="card-text">Meal ID: ${meal.idMeal}</p>
              </div>
            </div>
          </div>
        `;
            carouselInner.innerHTML += cardHtml;
          });
        })
        .catch((error) => {
          console.error("Error fetching API data:", error);
        });

      // Fetching the API data for Desserts
      fetch("https://www.themealdb.com/api/json/v1/1/filter.php?c=Dessert")
        .then((response) => response.json()) // Parse the response as JSON
        .then((data) => {
          const carouselInner = document.querySelector(
            "#card-carousel-3 .carousel-inner"
          );

          // Clear any existing content
          carouselInner.innerHTML = "";

          // Loop through the meals and create carousel cards
          data.meals.forEach((meal, index) => {
            const carouselItemClass =
              index === 0 ? "carousel-item active" : "carousel-item";
            const cardHtml = `
          <div class="${carouselItemClass}">
            <div class="card">
              <img src="${meal.strMealThumb}" class="card-img-top" alt="${meal.strMeal}" />
              <div class="card-body">
                <h5 class="card-title">${meal.strMeal}</h5>
                <p class="card-text">Meal ID: ${meal.idMeal}</p>
              </div>
            </div>
          </div>
        `;
            carouselInner.innerHTML += cardHtml;
          });
        })
        .catch((error) => {
          console.error("Error fetching API data:", error);
        });

        //loader
        'use strict'

let toRadians = (deg) => deg * Math.PI / 180
let map = (val, a1, a2, b1, b2) => b1 + (val - a1) * (b2 - b1) / (a2 - a1)

class Pizza {
  constructor(id) {
    this.canvas = document.getElementById(id)
    this.ctx = this.canvas.getContext('2d')

    this.sliceCount = 6
    this.sliceSize = 80

    this.width = this.height = this.canvas.height = this.canvas.width = this.sliceSize * 2 + 50
    this.center = this.height / 2 | 0

    this.sliceDegree = 360 / this.sliceCount
    this.sliceRadians = toRadians(this.sliceDegree)
    this.progress = 0
    this.cooldown = 10

  }

  update() {
    let ctx = this.ctx
    ctx.clearRect(0, 0, this.width, this.height)

    if (--this.cooldown < 0) this.progress += this.sliceRadians*0.01 + this.progress * 0.07

    ctx.save()
    ctx.translate(this.center, this.center)
    
    for (let i = this.sliceCount - 1; i > 0; i--) {

      let rad
      if (i === this.sliceCount - 1) {
        let ii = this.sliceCount - 1

        rad = this.sliceRadians * i + this.progress

        ctx.strokeStyle = '#FBC02D'
        cheese(ctx, rad, .9, ii, this.sliceSize, this.sliceDegree)
        cheese(ctx, rad, .6, ii, this.sliceSize, this.sliceDegree)
        cheese(ctx, rad, .5, ii, this.sliceSize, this.sliceDegree)
        cheese(ctx, rad, .3, ii, this.sliceSize, this.sliceDegree)

      } else rad = this.sliceRadians * i
      
      // border
      ctx.beginPath()
      ctx.lineCap = 'butt'
      ctx.lineWidth = 11
      ctx.arc(0, 0, this.sliceSize, rad, rad + this.sliceRadians)
      ctx.strokeStyle = '#F57F17'
      ctx.stroke()

      // slice
      let startX = this.sliceSize * Math.cos(rad)
      let startY = this.sliceSize * Math.sin(rad)
      let endX = this.sliceSize * Math.cos(rad + this.sliceRadians)
      let endY = this.sliceSize * Math.sin(rad + this.sliceRadians)
      let varriation = [0.9,0.7,1.1,1.2]
      ctx.fillStyle = '#FBC02D'
      ctx.beginPath()
      ctx.moveTo(0, 0)
      ctx.lineTo(startX, startY)
      ctx.arc(0, 0, this.sliceSize, rad, rad + this.sliceRadians)
      ctx.lineTo(0, 0)
      ctx.closePath()
      ctx.fill()
      ctx.lineWidth = .3
      ctx.stroke()

      // meat
      let x = this.sliceSize * .65 * Math.cos(rad + this.sliceRadians / 2)
      let y = this.sliceSize * .65 * Math.sin(rad + this.sliceRadians / 2)
      ctx.beginPath()
      ctx.arc(x, y, this.sliceDegree / 6, 0, 2 * Math.PI)
      ctx.fillStyle = '#D84315'
      ctx.fill()

    }

    ctx.restore()

    if (this.progress > this.sliceRadians) {
      ctx.translate(this.center, this.center)
      ctx.rotate(-this.sliceDegree * Math.PI / 180)
      ctx.translate(-this.center, -this.center)

      this.progress = 0
      this.cooldown = 20
    }

  }

}

function cheese(ctx, rad, multi, ii, sliceSize, sliceDegree) {
  let x1 = sliceSize * multi * Math.cos(toRadians(ii * sliceDegree) - .2)
  let y1 = sliceSize * multi * Math.sin(toRadians(ii * sliceDegree) - .2)
  let x2 = sliceSize * multi * Math.cos(rad + .2)
  let y2 = sliceSize * multi * Math.sin(rad + .2)

  let csx = sliceSize * Math.cos(rad)
  let csy = sliceSize * Math.sin(rad)

  var d = Math.sqrt((x1 - csx) * (x1 - csx) + (y1 - csy) * (y1 - csy))
  ctx.beginPath()
  ctx.lineCap = 'round'

  let percentage = map(d, 15, 70, 1.2, 0.2)

  let tx = x1 + (x2 - x1) * percentage
  let ty = y1 + (y2 - y1) * percentage
  ctx.moveTo(x1, y1)
  ctx.lineTo(tx, ty)

  tx = x2 + (x1 - x2) * percentage
  ty = y2 + (y1 - y2) * percentage
  ctx.moveTo(x2, y2)
  ctx.lineTo(tx, ty)

  ctx.lineWidth = map(d, 0, 100, 20, 2)
  ctx.stroke()
}

let pizza = new Pizza('pizza')

;(function update() {
  requestAnimationFrame(update)
  pizza.update()

}())
document.addEventListener("DOMContentLoaded", function () {
  document.body.classList.add("loading");
  const loadingOverlay = document.getElementById("loading-overlay");
  setTimeout(function () {
    loadingOverlay.style.display = "none";
    document.body.classList.remove("loading");
  }, 3500); 
});
        
    </script>
    <script src="node_modules/bootstrap/dist/js/bootstrap.bundle.js"></script>
  </body>
</html>
